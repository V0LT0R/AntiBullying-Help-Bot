# Anti-Bullying Support Telegram Bot (Gemini AI)
**DDP_Biloshchytskyi**

This repository contains an AI-powered Telegram bot designed to support students experiencing bullying, cyberbullying, and emotional stress.  
The bot provides empathetic support using **Google Gemini AI**, detects crisis phrases, offers emergency hotline numbers, and logs anonymized statistics for educational institutions.

---

# 3. Documents for Developed Project — DDP_Biloshchytskyi

## 3.1. User Manual (README)

### **Project Overview**
The bot offers:
- Emotional support via **Google Gemini AI**  
- Predefined supportive responses via inline buttons  
- Crisis phrase detection (self-harm, suicidal statements)  
- Emergency contacts for Kazakhstan (150, 112, 103)  
- Anonymous logging in CSV + JSON  
- Daily reporting via `report.py`  
- Suitable for deployment in schools and universities  

The bot does **not** collect usernames, IDs, phone numbers, or personal information. All logs undergo anonymization.

---

## **Programming Language**
Python **3.11+**

---

## **Folder Structure**

project_root/
│
├─ antibullying_bot.py # Main Telegram bot

├─ report.py # Analytics and reporting tool

├─ README.md # Documentation (this file)

├─ .gitignore # Git ignore rules

├─ .env # Secret configuration (not included)

└─ stats/ # Automatically generated anonymous logs

├─ events_YYYY-MM-DD.csv

└─ counters.json

---

## **Dependencies Between Files**
| File | Depends On | Description |
|------|------------|-------------|
| antibullying_bot.py | `.env`, google-genai, python-telegram-bot, stats folder | Core bot logic, logging, crisis detection |
| report.py | stats folder | Reads logs and generates daily/weekly reports |
| .env | None | Holds secret API tokens |
| stats/ | autogenerated | Contains anonymized usage events |

---

## 3.2. API Tokens

Two API tokens are required.

### **Telegram Bot Token**
Created via Telegram’s **@BotFather**.  
Must be placed in `.env`:

TELEGRAM_BOT_TOKEN=123456789:AA...


### **Gemini API Key**
Created in **Google AI Studio → API Keys**.

Add to `.env`:

GEMINI_API_KEY=AI...


Both tokens must remain private and **must not** be committed to GitHub.

---

## 3.3. Libraries Used (with versions and sources)

| Library | Version | Purpose | Source |
|--------|---------|----------|--------|
| python-telegram-bot | 21.x | Telegram API framework | https://pypi.org/project/python-telegram-bot |
| google-genai | latest | Google Gemini AI access | https://pypi.org/project/google-genai |
| python-dotenv | latest | Loading `.env` file | https://pypi.org/project/python-dotenv |
| asyncio | built-in | Async execution | Python Standard Library |
| csv, json, pathlib, re, datetime | built-in | Logging, anonymization | Python Standard Library |

---

## 3.4. Configuration File (.env)

Create a file named `.env` in the project root:

TELEGRAM_BOT_TOKEN=your_telegram_token_here
GEMINI_API_KEY=your_gemini_key_here
STATS_DIR=stats

`STATS_DIR` is optional (default: `stats/`).

---

## 3.5. GitHub Repository Access
This project must be uploaded to GitHub. Example expected format:

https://github.com/Biloshchytskyi/anti-bullying-bot

Repository includes:
- All source files  
- README.md  
- requirements.txt (optional)  
- .gitignore  

Repository must **exclude**:
- `.env`
- `stats/`
- Compiled files and virtual environments

---

## 3.6. Server Access or Launch Instructions

If server access is unavailable, the following steps explain how to launch the bot locally.

### **Installation Steps**

1. Install Python 3.11+  
2. Create a virtual environment  
3. Install required libraries  
4. Create `.env` with token values  
5. Run:

python antibullying_bot.py

Open Telegram → find bot → press **Start**.

The bot remains active while the script is running.

---

## 3.7. Technical Verification (How to Test Functionality)

Use this checklist to confirm proper execution.

### **A. Starting the Bot**
- Send `/start`
- Bot displays disclaimer + menu buttons

### **B. Button Functionality**
Each button must send an appropriate long supportive message:
- “I experience bullying”
- “I witnessed bullying”
- “Rights and where to contact”
- “Emergency help”

Messages must *not* overwrite the history.

### **C. AI Chat Mode**
- Press “Talk about another topic (AI)”
- Bot enters Gemini chat mode
- Send any text:
  - “hello”
  - “I am being bullied in a group chat”
- Bot replies empathetically

### **D. Crisis Detection**
Send:
I don’t want to live anymore

Bot must:
- Detect crisis  
- NOT call Gemini  
- Send emergency support message  
- Provide hotline numbers  
- Log event as `crisis`  

### **E. Statistics Logging**
Check folder:

stats/events_YYYY-MM-DD.csv
stats/counters.json

CSV must contain anonymized logs.

### **F. Reporting Tool**
Run:

python report.py

Report must include:
- Total messages  
- AI messages  
- Button usage ranking  
- Number of crisis detections  
- Daily activity  
- Example crisis statements  

---